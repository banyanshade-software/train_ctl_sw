
config servo {
	const GPIO_TypeDef *port_power
		= (switcher:*) table(servosw, port)
		= (default) NULL;
	const uint16_t pin_power
		= (switcher:*) table(servosw, pin)
		= (default) 0;
    const int8_t pwm_timer_num
        = (switcher:*) table(servosw, tim)
        = (default) -1;
    const int8_t pwm_timer_ch
        = (switcher:*) table(servosw, ch)
        = (default) 0;
    user uint16_t min
        = (switcher:*) table(servosw, min)
        = (default) 0;
    user uint16_t max
        = (switcher:*) table(servosw, max)
        = (default) 0;
    user uint16_t spd
        = (switcher:*) table(servosw, max)
        = (default) 0;
    user uint16_t pos0
        = (switcher:*) table(servosw, pos0)
        = (default) 0;
} num = (switcher) 1
      = (default) 0;

table servosw
	( port,     pin,             tim,    ch,     min,    max,    spd,    pos0)
    ( GPIOD,    GPIO_PIN_8,      1,      1,     230,    723,     80,     230)
;


attrib servo h_code {


#ifndef TRAIN_SIMU
#ifdef STM32_F4
#include "stm32f4xx_hal.h"
#else
#include "stm32f1xx_hal.h"
#endif
#else
typedef void *GPIO_TypeDef;
#endif

}

